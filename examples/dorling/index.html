<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel='shortcut icon' type='image/x-icon' href='../../assets/images/favicon.ico' />
    <title>True Dorling Cartogram</title>

</head>

<body>
    <div id="containerDiv"></div>
    <script src="../../build/dorling.min.js"></script>
    <script>
        var dorling = NutsDorlingCartogram.dorling()
            .standalone(false)
            .containerId("containerDiv")
            .title("True Dorling Cartogram showing population and population change")
            .nutsLevel(1)
            .nutsAvailable([0,1])
            .colors(["#2d50a0", "#6487c3", "#aab9e1", "#f0cd91", "#e6a532", "#d76e2d"])
            .thresholdValues([-15, -10, 0, 10, 15, 20])
            .sizeDatasetCode("demo_r_pjangrp3")
            .colorDatasetName("population")
            .sizeDatasetFilters("sex=T&age=TOTAL&unit=NR&time=2019")
            .sizeLegend({
                title: "Total population (million)",
                values: { 2: [15e6, 5e6, 1e6] },
                bodyXOffset: { '0': 100, '1': 100, },
                bodyYOffset: { '0': 250, '1': 200 },
                labelsTranslateX: { 0: 100, 1: 45 },
            })
            .colorDatasetCode("demo_r_gind3")
            .colorDatasetFilters("indic_de=GROWRT&time=2018")
            .maxCircleRadius({
                "0": 140,
                "1": 50,
                "2": 30,
                "3": 20
            })
            .colorLegend({
                title: "Population change 2018 - 2019 (per 1 000 inhabitants)",
                titleWidth: 280,
                titleYOffset: { 0: 270, 1: 240 }, // distance between colorLegend title and sizeLegend
                bodyYOffset: { 0: 50, 1: 50, 2: 50, 3: 30 }, // distance between colorLegend explanation and colorLegend title
            })
            .legendWidth(500)
            .nutsSelectorTranslateY({ 0: 530, 1: 500})
            .tooltip({
                colorLabel: "Population change",
                colorUnit: "per 1 000 inhabitants",
                sizeLabel: "Total population",
                shareLabel: "Share of national population",
            })
            .showBorders(false)
            .seaColor("white")
            .translateX(-490)// d3 projection.translate()
            .collisionStrength(1) // d3 force
            .positionStrength(1) // d3 force
            .build();
    </script>
</body>

</html>
